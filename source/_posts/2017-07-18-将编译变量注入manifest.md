---
title: Gradle - 将编译变量注入 Manifest
tags:
  - gradle
date: 2017-07-18 15:37:22
categories: 笔记
---

[Inject Build Variables into the Manifest](https://developer.android.com/studio/build/manifest-build-variables.html)

[manifestPlaceholders](http://google.github.io/android-gradle-dsl/current/com.android.build.gradle.internal.dsl.ProductFlavor.html#com.android.build.gradle.internal.dsl.ProductFlavor:manifestPlaceholders)

​	我们可以通过 manifestPlaceholders 属性(placeholder：占位符)来将定义在 build.graldle 中的变量插入到 AndroidManifest.xml 文件中，该属性是一个使用了键值对的 map。

```groovy
Map<String, Object> manifestPlaceholders
```

定义

```groovy
android {
    defaultConfig {
        manifestPlaceholders = [hostName:"www.example.com"]
    }
    ...
}
```

插入

```xml
<intent-filter ... >
    <data android:scheme="http" android:host="${hostName}" ... />
    ...
</intent-filter>
```

