---
title: Scope 注解
tags:
  - 注解
date: 2017-08-14 15:37:22
categories: 笔记
---

[Scope](https://docs.oracle.com/javaee/7/api/javax/inject/Scope.html?is-external=true)

```java
@Target(ANNOTATION_TYPE）
@Retention(RUNTIME)
@Documented
public @interface Scope {}
```

​	@Scope 是一个元注解，scope 可以理解为作用域，scope 注解可用于包含可注入构造函数的类，并控制 injector 如何复用该 type 的实例。默认的，如果不存在 scope 注解，injector 将为每一个注入创建实例并使用；如果存在，injector 将可能为下一次注入中可能发生的复用保留该实例。如果多个线程可以访问一个作用域实例，那么它的实现需要是线程安全的。

​	@Singleton 是一个 scope 注解，如下代码保证了只存在一个 Log 实例：

```java
   @Singleton
   class Log {
     void log(String message) { ... }
   }
```

​	 如果对同一个类使用了多个 scope 注解或者使用了不支持的 scope 注解，injector 将产生错误。

​	scope 注解具有以下特征：

+ 被 @Scope、@Retention(RUNTIME)，通常还有 @Documented 注解
+ 没有属性
+ 通常不是 @Inherited 的
+ 如果用了 @Target 将会在使用上有限制。