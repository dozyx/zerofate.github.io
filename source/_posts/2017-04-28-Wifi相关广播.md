---
title: Wifi 相关广播
tags:
  - android
  - wifi
date: 2017-04-28 15:37:22
categories: 笔记
---

wifi 相关的广播在 WifiManager 中： 

- **WIFI_STATE_CHANGED_ACTION**

  表明Wi - Fi 处于 enabled、disabled、enabling、disabling或unknown 状态，在 enabling 或 disabling 过程中发生错误将进入unknown 状态。该广播提供了两个 extra

  - EXTRA_WIFI_STATE
  - EXTRA_PREVIOUS_WIFI_STATE

- **RSSI_CHANGED_ACTION**

  信号强度发生改变，提供一个extra：EXTRA_NEW_RSSI，单位dBm。表示的是当前连接网络的rssi？

- **NETWORK_STATE_CHANGED_ACTION**

  Wi - Fi 连接状态发生改变，EXTRA_NETWORK_INFO 用一个 NetworkInfo 对象提供新的状态，如果新的状态为 CONNECTED，则可能同时提供含有BSSID的 EXTRA_BSSID 和带有接入点 WifiInfo 的EXTRA_WIFI_INFO。

  *WIFI_STATE_CHANGED_ACTION* 表示的是 wifi 本身开关状态的变化，而*NETWORK_STATE_CHANGED_ACTION*表示的是wifi连通性的状态变化。

- **SCAN_RESULTS_AVAILABLE_ACTION**

  接入点扫描完成，并且结果可用。通过WifiManager的getScanResults() 方法来获得结果。

- **NETWORK_IDS_CHANGED_ACTION**

  所配置网络的id 发生了改变。（指连接的网络的信息发生了改变？对该广播不是很确定，无论是设置中还是 aosp中都没找到该广播的使用地方，原生设置只做了监听没做处理）

- **SUPPLICANT_STATE_CHANGED_ACTION**

  与接入点建立连接时发生的状态改变。EXTRA_NEW_STATE 提供了一个新的 SupplicantState （请求状态，通过Intent.getParcelableExtra(String)获得）。这里的请求状态专指 Wi - Fi。EXTRA_SUPPLICANT_ERROR  获取请求错误码，如WifiManager.ERROR_AUTHENTICATING。（==是否可以使用这个来判断输入的密码错误？==）

- **CONFIGURED_NETWORKS_CHANGED_ACTION**

  系统Api，表示已配置的网络发生了改变，可以当作添加/修改/删除一个网络的结果。

- **LINK_CONFIGURATION_CHANGED_ACTION**

  隐藏 Api，wifi 的 link 配置发生改变，如 IP 地址、 DNS 等。