---
title: 强、软、弱、虚引用比较
tags:
  - java
date: 2017-08-19 14:14:14
categories: Java
---

四种引用的生命周期长短可以排列为：强 > 软 > 弱 > 虚。

+ 强引用

  通常我们创建的对象都是强引用对象，它们不需要通过 reference 对象来访问。如果一个对象具有强引用，GC 绝不会对它进行回收。

+ SoftReference

  GC 出于**内存**需求时才会对软引用对象进行清除，软引用通常用于实现内存敏感缓存。在 VM 抛出 OutOfMemoryError 之前，会确保 softly-reachable (软到达)对象的所有软引用被清除（个人理解为所有到达该软引用对象的路径都会被切断）。

+ WeakReference

  弱引用的生命周期比软引用要段，当 GC 检测到一个 weakly-reachable 对象时，不管当前内存是否足够，都会对它进行回收。

+ PhantomReference（虚引用）

  虚引用必须和引用队列(ReferenceQueue)联合使用，它的主要作用就是跟踪对象被垃圾回收的状态。如果一个对象只有虚引用，那么它跟没有任何引用一样。





参考：

[PhantomReference](https://docs.oracle.com/javase/7/docs/api/java/lang/ref/PhantomReference.html)

[SoftReference](https://docs.oracle.com/javase/7/docs/api/java/lang/ref/SoftReference.html)

[WeakReference](https://docs.oracle.com/javase/7/docs/api/java/lang/ref/WeakReference.html)

[Java:对象的强、软、弱和虚引用](http://zhangjunhd.blog.51cto.com/113473/53092/)

《Java：突破程序员基本功的16课》李刚