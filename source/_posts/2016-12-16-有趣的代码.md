---
title: 有趣的代码
tags:
  - code
date: 2016-12-16 15:37:22
categories: 笔记
---

> 记录那些可以让我心动的代码。
>
> 20170817：可以让我心动的都是曾经，哈哈



### 获得一个随机的颜色值

```java
final Random mRandom = new Random();
int color = Color.argb(255, mRandom.nextInt(256), mRandom.nextInt(256), mRandom.nextInt(256));
```



### 打印摄氏度符号

`Character.toString ((char) 176) + "C"`



### 判断字符串为空

`TextUtils.isEmpty(string)`

该方法的实现

```java
public static boolean isEmpty(@Nullable CharSequence str) {
    if (str == null || str.length() == 0)
        return true;
    else
        return false;
 }
```



### 播放视频进度条的刷新

在MediaController.java中对进度条的刷新

```java
case SHOW_PROGRESS:
     pos = setProgress();
     if (!mDragging && mShowing && mPlayer.isPlaying()) {
          msg = obtainMessage(SHOW_PROGRESS);
          sendMessageDelayed(msg, 1000 - (pos % 1000));
        }
        break;

```

pos是当前播放的进度位置，而1000 - (pos % 1000)的延迟设置，确保了每一次的刷新都正好处于整秒的位置。



###  ArrayList(Collection)

源码位置

[platform_frameworks_base](https://github.com/android/platform_frameworks_base)/[packages](https://github.com/android/platform_frameworks_base/tree/master/packages)/[SettingsLib](https://github.com/android/platform_frameworks_base/tree/master/packages/SettingsLib)/[src](https://github.com/android/platform_frameworks_base/tree/master/packages/SettingsLib/src)/[com](https://github.com/android/platform_frameworks_base/tree/master/packages/SettingsLib/src/com)/[android](https://github.com/android/platform_frameworks_base/tree/master/packages/SettingsLib/src/com/android)/[settingslib](https://github.com/android/platform_frameworks_base/tree/master/packages/SettingsLib/src/com/android/settingslib)/[wifi](https://github.com/android/platform_frameworks_base/tree/master/packages/SettingsLib/src/com/android/settingslib/wifi)/**WifiTracker.java**

```java
	/**
     * Gets the current list of access points.
     */
    public List<AccessPoint> getAccessPoints() {
        synchronized (mAccessPoints) {
            return new ArrayList<>(mAccessPoints);
        }
    }
```

可能是因为自己水平不行，才会在看到这个代码时感到心动。之前还困惑于如何将一个集合中的数据传递给另一个集合，而不是直接将对象传递过去，想过clone，想过addAll，现在才发现原来ArrayList 在构造时就可以直接实现。。。好笨











