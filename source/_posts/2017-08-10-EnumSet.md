---
title: EnumSet 学习
tags:
  - java
date: 2017-08-10 15:37:22
categories: 笔记
---

[EnumSet](https://developer.android.com/reference/java/util/EnumSet.html)

public abstract class EnumSet 
extends AbstractSet\<E extends Enum\<E>> implements Cloneable, Serializable

java.lang.Object
   ↳	java.util.AbstractCollection\<E extends java.lang.Enum\<E>>
 	   ↳	java.util.AbstractSet\<E extends java.lang.Enum\<E>>
 	 	   ↳	java.util.EnumSet\<E extends java.lang.Enum\<E>>

------

> ​	其实使用时就当做普通的 Set 使用，只是它的元素为 enum 类型。需要注意，Enum 是一个抽象类，在使用时应该使用它的静态工厂方法 of 或者 noneOf 来构建（of 方法内部也是调用 noneOf），在构建时将根据元素的数量（64）来返回不同的 EnumSet 实现的对象（这里的思想正反映了《Effective Java》里关于静态工厂方法的好处，客户端完全不需要关心有什么实现）。

​	一个专门用于 enum 类型的 Set 实现。enum set 中所有的元素均来自于创建时显式或隐式指定的 enum 类型。enum set 在内部以一个 bit 向量来表示，这使得它十分紧凑和高效。

+ 通过 iterator 方法返回的 iterator 将按自然顺序（enum 常量声明的顺序）遍历元素；

+ 禁止 null 元素；

+ EnumSet 不是同步的。可以通过 sychronizedSet(Set) 方法封装从外部进行同步。如：

  ```java
  Set<MyEnum> s = Collections.synchronizedSet(EnumSet.noneOf(MyEnum.class));
  ```



#### 实例化

​	EnumSet 是一个抽象类，它提供了两种静态工厂方法来获得实例：一类是 of 方法；另一种是 noneOf 方法。本质上都一样，noneOf 构建的示例没有元素，of 会先使用 noneOf 方法获得一个空的实例，然后将参数中的元素添加进入。