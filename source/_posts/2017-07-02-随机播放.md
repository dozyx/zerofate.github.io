---
title: 播放器随机播放功能实现
tags:
  - android
  - media
date: 2017-07-02 15:37:22
categories: 笔记
---

代码：AOSP Music

```java
    private static class Shuffler {
        private int mPrevious;//记录当前歌曲
        private Random mRandom = new Random();
        public int nextInt(int interval) {
            int ret;
            do {
                ret = mRandom.nextInt(interval);
            } while (ret == mPrevious && interval > 1);//避免重复播放同一首
            mPrevious = ret;
            return ret;
        }
    }
```

