---
title: MVP - 基本知识
tags:
  - MVP
date: 2017-01-24 15:37:22
categories: 笔记
typora-copy-images-to: ipic
---

[MVP 模式 百度百科](http://baike.baidu.com/view/3456444.htm)

==[模式演变](https://mvc.givan.se/#mvp)== 

[What are MVP and MVC and what is the difference?](http://stackoverflow.com/questions/2056/what-are-mvp-and-mvc-and-what-is-the-difference)

​	

​	MVP，全称Model-View-Presenter，从经典的模式MVC演变而来。**MVP中的View几乎是零逻辑，Presenter作为View和Model的中间人，而View和Model间是完全分离的。**



## MVC和MVP

​	基本思想相通：Controller/Presenter负责逻辑的处理，Model提供数据，View负责显示。

### 区别

**MVP**

+ View与Model间的耦合更松散，Presenter负责将Model绑定到View
+ 单元测试变得更简单，因为与View的交互是通过接口来进行的
+ 通常View与Presenter是一一对应的，复杂的View可能会有多个Presenter

**MVC**

+ Controller是基于行为的，并且可以在View间共享
+ 可决定由哪个View进行显示

> 个人感觉第一幅图并不是很准确，因为MVC里面View会直接与Model连接。

![MVC图示](https://ws1.sinaimg.cn/large/006tNc79gy1fimv646q2lj30fx07qweu.jpg)



![MVP图示](https://ws4.sinaimg.cn/large/006tNc79gy1fimv8k8xpzj30fx0aedgi.jpg)



### 解决MVC问题

​	在MVP里，Presenter完全把Model和View进行了分离，主要的程序逻辑在Presenter里实现。而且，Presenter与具体的View是没有直接关联的，而是通过定义好的接口进行交互，从而使得在变更View时候可以保持Presenter的不变



## MVC到MVP的演变

**MVC模型**

![MVC](https://ws1.sinaimg.cn/large/006tNc79gy1fimv93pvjmj30a806k74i.jpg)

**将MVC模型拆分为两部分**

![MVC-data](https://ws2.sinaimg.cn/large/006tNc79gy1fimv9vj46vj30f607l0td.jpg)

![MVC-UI](https://ws3.sinaimg.cn/large/006tNc79gy1fimv9w7wntj30f7079q3l.jpg)

为了区别这种拆分后的Controller，将其作为Presenter。

**完整的MVP模型**

![MVP](https://ws2.sinaimg.cn/large/006tNc79gy1fimvag7u9nj30f3072js8.jpg)

MVP将程序设计问题拆成了两个基本方面：Data Management和User Interface。

而Data Mgmt问题又被分解为三个子问题：

1. What is my data?

   包括了data的封装，读写的访问方法。

2. How do I specify my data?

   指定data模型中不同子集的一种抽象，称为selections。

3. How do I change my data?

   表示可以对selections进行的操作的抽象，称为commands。

   ​

UI交互同样被分解为三个子问题：

1. How do I display my data?

2. How do events map into changes in my data?

   该部分称为interactor，interactor event指的是用户进行的动作，如鼠标移动/点击，键盘等。

3. How do I put it together?

   与controller的功能类似，但提升至了application级别并且需要考虑作为selection、command、interactor的中间层。



创建一个基于MVP的完整程序，开发者需要回答以上六个问题。



​	

